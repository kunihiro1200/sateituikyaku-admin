# Server
PORT=3000
NODE_ENV=development

# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Google OAuth (Supabase経由で設定)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Frontend URL
FRONTEND_URL=http://localhost:5173

# Gmail API (for sending emails)
GMAIL_REFRESH_TOKEN=your-gmail-refresh-token

# Google Calendar API
GOOGLE_CALENDAR_CLIENT_ID=your-google-client-id
GOOGLE_CALENDAR_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:3000/api/auth/google/calendar/callback

# Google Calendar Webhooks
WEBHOOK_BASE_URL=http://localhost:3000
WEBHOOK_VERIFICATION_TOKEN=your-random-verification-token

# SMS (optional)
SMS_API_KEY=your-sms-api-key

# Google Sheets API (for spreadsheet sync)
GOOGLE_SHEETS_SPREADSHEET_ID=1wKBRLWbT6pSKa9IlTDabjhjTnfs_GxX6Rn6M6kbio1I
GOOGLE_SHEETS_SHEET_NAME=売主リスト

# Option 1: OAuth 2.0 Authentication (Recommended if service account key creation is restricted)
GOOGLE_OAUTH_CLIENT_ID=your-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-oauth-client-secret
GOOGLE_OAUTH_REFRESH_TOKEN=your-oauth-refresh-token

# Option 2: Service Account Authentication (Use if organization policy allows)
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Auto Sync Configuration
# スプレッドシートからDBへの自動同期を有効にする (true/false)
AUTO_SYNC_ENABLED=true
# 同期間隔（分）- デフォルト5分
AUTO_SYNC_INTERVAL_MINUTES=5

# Deletion Sync Configuration
# スプレッドシートから削除された売主の自動削除を有効にする (true/false)
DELETION_SYNC_ENABLED=true
# 厳格なバリデーション（最近のアクティビティがある場合は削除しない）
DELETION_VALIDATION_STRICT=true
# 「最近のアクティビティ」と見なす日数
DELETION_RECENT_ACTIVITY_DAYS=7
# 手動レビューが必要な場合にアラートを送信
DELETION_SEND_ALERTS=true
# 1回の同期で削除する最大件数
DELETION_MAX_PER_SYNC=100

# Google Drive API (for document storage)
# 「業務依頼」フォルダのGoogle Drive ID
GOOGLE_DRIVE_PARENT_FOLDER_ID=your-google-drive-folder-id

# 業務依頼フォルダID（パノラマURL検索用 - オプション）
# スプシURLが業務リストにない場合、このフォルダから物件番号を含むスプレッドシートを検索
# 設定しない場合は、業務リストのスプシURLのみを使用
# GYOMU_FOLDER_ID=your-gyomu-folder-id

# AWS AI Phone Integration
# AWS基本設定
AWS_REGION=ap-northeast-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Amazon Connect設定
AMAZON_CONNECT_INSTANCE_ID=your-connect-instance-id
AMAZON_CONNECT_INSTANCE_ARN=arn:aws:connect:ap-northeast-1:123456789012:instance/your-instance-id
AMAZON_CONNECT_CONTACT_FLOW_ID=your-contact-flow-id
AMAZON_CONNECT_PHONE_NUMBER=+81-xx-xxxx-xxxx

# Amazon S3設定（録音ファイル保存用）
S3_RECORDINGS_BUCKET=seller-system-call-recordings

# Amazon Transcribe設定
TRANSCRIBE_CUSTOM_VOCABULARY=real-estate-terms

# Amazon Comprehend設定（感情分析）
ENABLE_SENTIMENT_ANALYSIS=true

# 電話統合機能の有効化
ENABLE_PHONE_INTEGRATION=true
ENABLE_INBOUND_CALLS=true
ENABLE_OUTBOUND_CALLS=true

# 録音ファイルクリーンアップ設定
RECORDING_CLEANUP_ENABLED=true
RECORDING_RETENTION_DAYS=90
RECORDING_ARCHIVE_DAYS=30
S3_ARCHIVE_BUCKET=seller-system-call-recordings-archive
RECORDING_CLEANUP_SCHEDULE=0 2 * * *

# Replicate API Configuration (画像クリーンアップ用)
# https://replicate.com でアカウント作成後、API Tokenを取得
REPLICATE_API_TOKEN=r8_your_replicate_api_token_here

# Inquiry Response Email Configuration
# 内覧アンケートURL
VIEWING_SURVEY_URL=https://forms.gle/your-viewing-survey-form
# 物件スプレッドシートID（売主リストとは別の物件専用シート）
PROPERTY_SPREADSHEET_ID=your-property-spreadsheet-id

# Property Image Service Performance Configuration
# フォルダIDキャッシュの有効期限（分）- デフォルト1440分（24時間）
FOLDER_ID_CACHE_TTL_MINUTES=1440
# サブフォルダ検索のタイムアウト（秒）- デフォルト2秒
SUBFOLDER_SEARCH_TIMEOUT_SECONDS=2
# 検索する最大サブフォルダ数 - デフォルト3
MAX_SUBFOLDERS_TO_SEARCH=3
