# 要件ドキュメント

## はじめに

買主詳細画面の物件詳細カード（PropertyInfoCardコンポーネント）において、「内覧前伝達事項」フィールドが表示されていない問題を修正します。このフィールドは重要な情報であり、視認性を高めるために黄色系の背景色で強調表示する必要があります。

## 用語集

- **PropertyInfoCard**: 買主詳細画面内で物件情報を表示するReactコンポーネント
- **内覧前伝達事項**: 物件の内覧前に買主に伝えるべき重要な情報（buyer.pre_viewing_notesフィールド）
- **編集不可フィールド**: ユーザーが直接編集できない読み取り専用の表示フィールド

## 要件

### 要件1: 内覧前伝達事項フィールドの表示

**ユーザーストーリー:** 営業担当者として、買主詳細画面の物件詳細カード内に内覧前伝達事項を表示したい。これにより、物件内覧前に重要な情報を確認できる。

#### 受入基準

1. THE PropertyInfoCardコンポーネント SHALL buyer.pre_viewing_notesフィールドのデータを表示する
2. WHEN buyer.pre_viewing_notesにデータが存在する場合、THE PropertyInfoCardコンポーネント SHALL 「内覧前伝達事項」ラベルと共にその内容を表示する
3. WHEN buyer.pre_viewing_notesが空またはnullの場合、THE PropertyInfoCardコンポーネント SHALL 「内覧前伝達事項」フィールドを表示しない
4. THE 「内覧前伝達事項」フィールド SHALL 編集不可の読み取り専用フィールドとして実装される

### 要件2: 視認性の向上

**ユーザーストーリー:** 営業担当者として、内覧前伝達事項を他のフィールドと区別して目立たせたい。これにより、重要な情報を見落とすリスクを減らせる。

#### 受入基準

1. THE 「内覧前伝達事項」フィールド SHALL 黄色系の背景色（#fff9e6）で表示される
2. THE 「内覧前伝達事項」フィールド SHALL 他のフィールドと同じ幅で全幅表示される
3. THE 「内覧前伝達事項」フィールド SHALL 適切な余白（padding）を持つ
4. THE 「内覧前伝達事項」フィールド SHALL 他のフィールドと統一されたフォントスタイルを使用する

### 要件3: データの正確な取得

**ユーザーストーリー:** システム管理者として、正しいデータソースから内覧前伝達事項を取得したい。これにより、データの整合性を保証できる。

#### 受入基準

1. THE PropertyInfoCardコンポーネント SHALL buyerプロップからpre_viewing_notesフィールドを取得する
2. WHEN buyerプロップが存在しない場合、THE PropertyInfoCardコンポーネント SHALL エラーを発生させずに正常に動作する
3. THE PropertyInfoCardコンポーネント SHALL pre_viewing_notesフィールドの値をそのまま表示する（エスケープ処理は適用）

### 要件4: レイアウトの整合性

**ユーザーストーリー:** UI/UXデザイナーとして、内覧前伝達事項フィールドが既存のデザインシステムと整合性を保つようにしたい。これにより、統一感のあるユーザーインターフェースを提供できる。

#### 受入基準

1. THE 「内覧前伝達事項」フィールド SHALL PropertyInfoCard内の他のフィールドと同じレイアウトパターンを使用する
2. THE 「内覧前伝達事項」フィールド SHALL 適切な順序で配置される（他の重要フィールドの近くに配置）
3. THE 「内覧前伝達事項」フィールド SHALL レスポンシブデザインに対応する
4. THE 「内覧前伝達事項」フィールド SHALL 長いテキストの場合でも適切に表示される（折り返しまたはスクロール）
