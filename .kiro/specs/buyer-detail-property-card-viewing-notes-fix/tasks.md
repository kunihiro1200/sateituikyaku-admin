# 実装計画: 買主詳細画面物件カード内覧前伝達事項表示

## 概要

PropertyInfoCardコンポーネントに「内覧前伝達事項」フィールドを追加し、buyer.pre_viewing_notesからデータを取得して黄色背景で強調表示します。

## タスク

- [x] 1. PropertyInfoCardコンポーネントの修正
  - `frontend/src/components/PropertyInfoCard.tsx`を修正
  - 条件付きレンダリングで`buyer.pre_viewing_notes`が存在する場合のみ表示
  - 黄色背景（#fff9e6）のスタイルを適用
  - 読み取り専用フィールドとして実装
  - _要件: 1.1, 1.2, 1.3, 1.4, 2.1, 2.2, 3.1_

- [ ]* 1.1 PropertyInfoCardコンポーネントのユニットテスト
  - データ存在時の表示テスト
  - データ不在時（null/undefined/空文字列）の非表示テスト
  - スタイル適用テスト（背景色#fff9e6）
  - エッジケーステスト（長いテキスト、特殊文字、buyerがnull）
  - _要件: 1.2, 1.3, 1.4, 2.1, 3.2_

- [ ]* 1.2 プロパティテスト: データ存在時の表示
  - **プロパティ1: データが存在する場合の表示**
  - **検証: 要件1.2**
  - fast-checkを使用して任意の非空文字列でテスト
  - 100回反復実行

- [ ]* 1.3 プロパティテスト: データ不在時の非表示
  - **プロパティ2: データが存在しない場合の非表示**
  - **検証: 要件1.3**
  - null/undefined/空文字列でフィールドが表示されないことを確認
  - 100回反復実行

- [ ]* 1.4 プロパティテスト: スタイル一貫性
  - **プロパティ4: スタイルの一貫性**
  - **検証: 要件2.1, 2.2**
  - 任意の非空文字列で背景色が#fff9e6であることを確認
  - 100回反復実行

- [x] 2. CSSスタイルの追加
  - `.viewing-notes-field`クラスのスタイル定義
  - 背景色#fff9e6、適切なパディングとマージン
  - `.viewing-notes-content`クラスで長いテキストの折り返し処理
  - レスポンシブ対応
  - _要件: 2.1, 2.2, 4.1, 4.2, 4.3, 4.4_

- [x] 3. チェックポイント - すべてのテストが通過することを確認
  - すべてのテストが通過することを確認し、質問があればユーザーに尋ねる

- [ ]* 4. 統合テスト
  - BuyerDetailPageとの統合テスト
  - 実際のAPIレスポンスを使用したエンドツーエンドテスト
  - 異なる画面サイズでのレスポンシブテスト
  - _要件: 1.1, 2.2, 4.1, 4.2_

## 注意事項

- `*`マークのタスクはオプションで、より速いMVPのためにスキップ可能です
- 各タスクは特定の要件を参照しており、トレーサビリティを確保しています
- チェックポイントで段階的な検証を行います
- プロパティテストは普遍的な正確性プロパティを検証します
- ユニットテストは特定の例とエッジケースを検証します
