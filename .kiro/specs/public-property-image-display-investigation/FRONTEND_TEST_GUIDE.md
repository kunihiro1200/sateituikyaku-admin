# フロントエンド動作確認ガイド

## ✅ 修正完了

バックエンドAPIの修正が完了し、画像URLが正しく返されるようになりました。
フロントエンドは既に正しく実装されているため、追加の修正は不要です。

## 概要

公開物件一覧ページで物件カードに画像が正しく表示されることを確認します。

## 確認手順

### 1. 開発サーバーの起動

```bash
# バックエンド
cd backend
npm run dev

# フロントエンド（別のターミナル）
cd frontend
npm run dev
```

### 2. 公開物件一覧ページにアクセス

ブラウザで以下のURLにアクセス:
```
http://localhost:5173/public/properties
```

### 3. 確認項目

#### ✅ 画像がある物件の場合

- [ ] 物件カードに画像が表示される
- [ ] 画像が正しく読み込まれる（404エラーがない）
- [ ] 画像のアスペクト比が正しい
- [ ] 画像がクリック可能（詳細ページへ遷移）

#### ✅ 画像がない物件の場合

- [ ] プレースホルダー画像が表示される
- [ ] レイアウトが崩れない
- [ ] エラーメッセージが表示されない

#### ✅ パフォーマンス

- [ ] ページの読み込みが5秒以内に完了
- [ ] 画像の読み込みが遅延しても物件データは表示される
- [ ] スクロールがスムーズ

### 4. ブラウザの開発者ツールで確認

#### ネットワークタブ

1. `/api/public/properties` のレスポンスを確認
2. `images` 配列が含まれていることを確認
3. 画像URLが正しい形式であることを確認

```json
{
  "properties": [
    {
      "id": "...",
      "property_number": "AA13129",
      "images": [
        "https://drive.google.com/uc?export=view&id=..."
      ],
      ...
    }
  ],
  "total": 152,
  "limit": 20,
  "offset": 0
}
```

#### コンソールタブ

- [ ] エラーメッセージがない
- [ ] 警告メッセージがない

### 5. 異なる条件でテスト

#### フィルター適用時

- [ ] 物件タイプでフィルター
- [ ] 価格範囲でフィルター
- [ ] エリアでフィルター
- [ ] 所在地で検索
- [ ] 物件番号で検索

各フィルター適用後も画像が正しく表示されることを確認

#### ページネーション

- [ ] 次のページに移動
- [ ] 前のページに戻る
- [ ] 各ページで画像が正しく表示される

## トラブルシューティング

### 画像が表示されない場合

1. **ブラウザのコンソールを確認**
   - 404エラー → 画像URLが間違っている
   - CORS エラー → Google Drive の共有設定を確認

2. **APIレスポンスを確認**
   ```bash
   curl http://localhost:3000/api/public/properties?limit=5
   ```
   - `images` 配列が含まれているか確認
   - 画像URLが正しい形式か確認

3. **バックエンドのログを確認**
   - 画像取得エラーがないか確認
   - タイムアウトエラーがないか確認

### プレースホルダーが表示されない場合

1. **フロントエンドのコードを確認**
   - `PublicPropertyCard.tsx` で `images[0]` が存在しない場合の処理を確認
   - プレースホルダー画像のパスが正しいか確認

2. **CSSを確認**
   - 画像のスタイルが正しく適用されているか確認

## 期待される結果

### 正常系

- 全ての公開物件が一覧表示される
- 画像がある物件は画像が表示される
- 画像がない物件はプレースホルダーが表示される
- ページの読み込みが高速（5秒以内）
- エラーメッセージが表示されない

### 異常系

- 画像取得エラーが発生しても物件データは表示される
- タイムアウトが発生しても物件データは表示される
- ネットワークエラーが発生してもアプリケーションがクラッシュしない

## 完了条件

- [ ] 全ての確認項目をクリア
- [ ] トラブルシューティングが不要
- [ ] パフォーマンスが許容範囲内
- [ ] ユーザー体験が良好

## 次のステップ

確認が完了したら、タスク5を完了としてマークしてください。

```markdown
- [x] 5. フロントエンドの動作確認
```
