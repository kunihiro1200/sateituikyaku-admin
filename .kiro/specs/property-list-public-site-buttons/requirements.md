# 物件リスト 公開サイトボタン追加機能 - 要件定義

## 1. 概要

物件リストページのヘッダー部分に、公開物件サイトへのアクセスボタンを2つ追加します。

## 2. 背景

現在、物件リストページには各物件の公開URLへのリンクが個別に表示されていますが、公開物件サイトのトップページ（一覧ページ）へ直接アクセスするボタンがありません。管理者が公開サイトを確認する際に、毎回URLを手入力する必要があり、不便です。

## 3. ユーザーストーリー

### US-1: 一般向け公開サイトへのアクセス
**As a** 管理者  
**I want to** 物件リストページから一般向け公開サイトにワンクリックでアクセスしたい  
**So that** お客様が見る画面を素早く確認できる

**受入基準**:
- [ ] 1.1 物件リストページのヘッダー部分に「一般向け公開サイト」ボタンが表示される
- [ ] 1.2 ボタンをクリックすると、新しいタブで公開物件サイト（`/public/properties`）が開く
- [ ] 1.3 ボタンには適切なアイコン（例: 公開アイコン）が表示される
- [ ] 1.4 ボタンのラベルは「一般向け公開サイト」と表示される

### US-2: 管理者向け公開サイトへのアクセス
**As a** 管理者  
**I want to** 物件リストページから管理者向け公開サイトにワンクリックでアクセスしたい  
**So that** 画像の非表示機能や更新ボタンなど、管理者専用機能を使用できる

**受入基準**:
- [ ] 2.1 物件リストページのヘッダー部分に「管理者向け公開サイト」ボタンが表示される
- [ ] 2.2 ボタンをクリックすると、新しいタブで管理者向け公開物件サイト（`/public/properties?canHide=true`）が開く
- [ ] 2.3 ボタンには適切なアイコン（例: 管理者アイコン）が表示される
- [ ] 2.4 ボタンのラベルは「管理者向け公開サイト」と表示される

### US-3: ボタンの配置とデザイン
**As a** 管理者  
**I want to** ボタンが見やすく、使いやすい位置に配置されている  
**So that** 必要な時にすぐにアクセスできる

**受入基準**:
- [ ] 3.1 ボタンは物件リストページのヘッダー部分（検索バーの上または右側）に配置される
- [ ] 3.2 2つのボタンは横並びで表示される
- [ ] 3.3 ボタンのデザインはMaterial-UIのButtonコンポーネントを使用し、プロジェクトの他のボタンと統一感がある
- [ ] 3.4 モバイル表示でも適切にレイアウトされる（必要に応じて縦並びまたはアイコンのみ表示）

## 4. 機能要件

### 4.1 ボタンの表示
- 物件リストページ（`PropertyListingsPage.tsx`）のヘッダー部分に2つのボタンを追加
- ボタンは常に表示される（ログイン状態に関係なく）

### 4.2 ボタンの動作
- **一般向け公開サイト**ボタン:
  - クリック時: 新しいタブで`/public/properties`を開く
  - `target="_blank"`と`rel="noopener noreferrer"`を使用
  
- **管理者向け公開サイト**ボタン:
  - クリック時: 新しいタブで`/public/properties?canHide=true`を開く
  - `target="_blank"`と`rel="noopener noreferrer"`を使用

### 4.3 ボタンのデザイン
- **一般向け公開サイト**:
  - アイコン: `PublicIcon`（Material-UI）
  - ラベル: 「一般向け公開サイト」
  - バリアント: `outlined`
  - カラー: `primary`

- **管理者向け公開サイト**:
  - アイコン: `AdminPanelSettingsIcon`（Material-UI）
  - ラベル: 「管理者向け公開サイト」
  - バリアント: `contained`
  - カラー: `secondary`

### 4.4 レスポンシブデザイン
- デスクトップ（`md`以上）:
  - ボタンは横並びで表示
  - アイコンとラベルの両方を表示
  
- モバイル（`sm`以下）:
  - ボタンは縦並びで表示、またはアイコンのみ表示
  - ラベルは省略可能（Tooltipで補完）

## 5. 非機能要件

### 5.1 パフォーマンス
- ボタンの追加によるページ読み込み速度への影響は最小限にする

### 5.2 アクセシビリティ
- ボタンには適切な`aria-label`を設定
- キーボード操作でアクセス可能

### 5.3 互換性
- Chrome、Firefox、Safari、Edgeの最新版で動作確認

## 6. 制約事項

- 既存の物件リストページの機能に影響を与えない
- 既存のレイアウトを大きく変更しない
- 既存のコンポーネント（`PublicUrlCell`など）は変更しない

## 7. 実装の優先順位

1. **高**: 一般向け公開サイトボタンの追加
2. **高**: 管理者向け公開サイトボタンの追加
3. **中**: レスポンシブデザインの対応
4. **低**: アニメーションやホバーエフェクトの追加

## 8. テストシナリオ

### 8.1 一般向け公開サイトボタン
1. 物件リストページを開く
2. 「一般向け公開サイト」ボタンが表示されることを確認
3. ボタンをクリック
4. 新しいタブで`/public/properties`が開くことを確認
5. 公開サイトが正しく表示されることを確認

### 8.2 管理者向け公開サイトボタン
1. 物件リストページを開く
2. 「管理者向け公開サイト」ボタンが表示されることを確認
3. ボタンをクリック
4. 新しいタブで`/public/properties?canHide=true`が開くことを確認
5. 管理者向け機能（画像非表示ボタンなど）が表示されることを確認

### 8.3 レスポンシブデザイン
1. デスクトップ表示で2つのボタンが横並びで表示されることを確認
2. モバイル表示でボタンが適切にレイアウトされることを確認

## 9. 関連ドキュメント

- [公開物件サイト 手動更新ボタン実装記録](.kiro/steering/public-property-manual-refresh-implementation.md)
- [ローカル管理者ログインガイド](.kiro/steering/local-admin-login-guide.md)
- [公開物件サイト 動作確認済み設定](.kiro/steering/public-property-show-public-only-filter-working-configuration.md)

## 10. 承認

- [ ] 要件定義の承認
- [ ] 設計の承認
- [ ] 実装の承認
- [ ] テストの承認

---

**作成日**: 2026年1月25日  
**作成者**: Kiro AI Assistant  
**ステータス**: レビュー待ち
