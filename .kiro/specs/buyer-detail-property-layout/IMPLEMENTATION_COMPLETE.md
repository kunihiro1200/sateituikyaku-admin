# è²·ä¸»è©³ç´°ãƒšãƒ¼ã‚¸ç‰©ä»¶æƒ…å ±ã‚«ãƒ¼ãƒ‰ - å®Ÿè£…å®Œäº†

## å®Ÿè£…æ¦‚è¦

ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰è²·ä¸»ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸéš›ã«ã€è²·ä¸»è©³ç´°ãƒšãƒ¼ã‚¸ã®å·¦ä¸Šã«è©³ç´°ãªç‰©ä»¶æƒ…å ±ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

## å®Ÿè£…å†…å®¹

### 1. PropertyInfoCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/components/PropertyInfoCard.tsx`

**æ©Ÿèƒ½**:
- ç‰©ä»¶ã®è©³ç´°æƒ…å ±ã‚’è¦‹ã‚„ã™ã„ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤º
- ä»¥ä¸‹ã®æƒ…å ±ã‚’å«ã‚€:
  - ç‰©ä»¶ç•ªå·
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ (atbbæˆç´„æ¸ˆã¿/éå…¬é–‹)
  - é…ä¿¡æ—¥
  - æ‰€åœ¨åœ°
  - ä½å±…è¡¨ç¤º
  - ç¨®åˆ¥
  - æ‹…å½“å
  - ä¾¡æ ¼
  - æœˆã€…ãƒ­ãƒ¼ãƒ³æ”¯æ‰•ã„
  - è²·ä»˜æœ‰ç„¡
  - å€¤ä¸‹ã’å±¥æ­´
  - ç†ç”± (å£²å´ç†ç”±)
  - Suumo URL (å¤–éƒ¨ãƒªãƒ³ã‚¯)
  - ç¢ºæ¸ˆ
  - æ§‹é€ ã€é–“å–ã‚Šã€åœŸåœ°é¢ç©ã€å»ºç‰©é¢ç©
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã¨ã‚¨ãƒ©ãƒ¼å‡¦ç†
- é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã§éè¡¨ç¤ºå¯èƒ½
- ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯

### 2. BuyerDetailPage ã®æ›´æ–°
**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/pages/BuyerDetailPage.tsx`

**å¤‰æ›´ç‚¹**:
- `useLocation` ãƒ•ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¦ãƒ«ãƒ¼ãƒˆçŠ¶æ…‹ã‚’å–å¾—
- `propertyContext` ã¨ `showPropertyCard` ã®çŠ¶æ…‹ç®¡ç†ã‚’è¿½åŠ 
- ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰é·ç§»ã—ãŸå ´åˆã€ç‰©ä»¶æƒ…å ±ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤º
- ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã¾ãŸã¯è²·ä¸»ãƒªã‚¹ãƒˆã‹ã‚‰é·ç§»ã—ãŸå ´åˆã€å¾“æ¥ã®ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¡¨ç¤º
- ã‚«ãƒ¼ãƒ‰é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã§ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½

### 3. PropertyListingDetailPage ã®æ›´æ–°
**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/pages/PropertyListingDetailPage.tsx`

**å¤‰æ›´ç‚¹**:
- è²·ä¸»ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
- `navigate` ã‚’ä½¿ç”¨ã—ã¦ç‰©ä»¶ç•ªå·ã¨ã‚½ãƒ¼ã‚¹æƒ…å ±ã‚’ route state ã§æ¸¡ã™
- æ–°ã—ã„ã‚¿ãƒ–ã§ã¯ãªãåŒã˜ã‚¿ãƒ–ã§é·ç§»ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Šï¼‰

## ä½¿ç”¨æ–¹æ³•

### ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰è²·ä¸»è©³ç´°ã¸é·ç§»
1. ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‚’é–‹ã
2. å³å´ã®ã€Œè²·ä¸»ãƒªã‚¹ãƒˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è²·ä¸»ã‚’ã‚¯ãƒªãƒƒã‚¯
3. è²·ä¸»è©³ç´°ãƒšãƒ¼ã‚¸ãŒé–‹ãã€å·¦ä¸Šã«ç‰©ä»¶æƒ…å ±ã‚«ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. ã‚«ãƒ¼ãƒ‰ã®ã€ŒÃ—ã€ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹ã¨ã€ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ã‚«ãƒ¼ãƒ‰ã®ã€Œç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‚’é–‹ãã€ãƒœã‚¿ãƒ³ã§å…ƒã®ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã«æˆ»ã‚Œã‚‹

### ç›´æ¥è²·ä¸»è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
1. è²·ä¸»ãƒªã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‹ã‚‰è²·ä¸»ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã¾ãŸã¯ URL ã‚’ç›´æ¥å…¥åŠ›
3. å¾“æ¥é€šã‚Šç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆé …ç›®

### âœ… å®Ÿè£…å®Œäº†
- [x] PropertyInfoCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ
- [x] BuyerDetailPage ã® context-aware ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- [x] PropertyListingDetailPage ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
- [x] TypeScript ã‚¨ãƒ©ãƒ¼ãªã—

### ğŸ§ª æ‰‹å‹•ãƒ†ã‚¹ãƒˆå¿…è¦
- [ ] ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰è²·ä¸»ã‚¯ãƒªãƒƒã‚¯ â†’ ç‰©ä»¶ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºç¢ºèª
- [ ] ç‰©ä»¶ã‚«ãƒ¼ãƒ‰ã«å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª
- [ ] ç‰©ä»¶ã‚«ãƒ¼ãƒ‰ã®é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ã‹ç¢ºèª
- [ ] ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ã‹ç¢ºèª
- [ ] è²·ä¸»ãƒªã‚¹ãƒˆã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ â†’ ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºç¢ºèª
- [ ] URL ç›´æ¥å…¥åŠ› â†’ ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºç¢ºèª
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ãƒ¢ãƒã‚¤ãƒ«)
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (404ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼)

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

æ—¢å­˜ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ç”¨:
- `GET /api/property-listings/:propertyNumber` - ç‰©ä»¶è©³ç´°å–å¾—

## æŠ€è¡“çš„ãªè©³ç´°

### Route State ã®æ§‹é€ 
```typescript
{
  propertyNumber: string;  // ç‰©ä»¶ç•ªå·
  source: 'property-detail'  // é·ç§»å…ƒã®è­˜åˆ¥
}
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Props
```typescript
interface PropertyInfoCardProps {
  propertyId: string;      // ç‰©ä»¶ç•ªå·
  onClose?: () => void;    // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
}
```

## æ³¨æ„äº‹é …

1. **ç‰©ä»¶ç•ªå·ã®ä½¿ç”¨**: API ã¯ `propertyNumber` ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ç”¨
2. **çŠ¶æ…‹ç®¡ç†**: route state ã¯ç”»é¢ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§å¤±ã‚ã‚Œã‚‹ãŸã‚ã€ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å¾Œã¯ç´ã¥ãç‰©ä»¶ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: Grid ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§è‡ªå‹•çš„ã«ç”»é¢ã‚µã‚¤ã‚ºã«é©å¿œ

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. é–‹ç™ºç’°å¢ƒã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•
2. ç‰©ä»¶è©³ç´°ãƒšãƒ¼ã‚¸ã‹ã‚‰è²·ä¸»ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆ
3. å„ç¨®ã‚·ãƒŠãƒªã‚ªã§ã®å‹•ä½œç¢ºèª
4. å¿…è¦ã«å¿œã˜ã¦ UI/UX ã®å¾®èª¿æ•´

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `frontend/src/components/PropertyInfoCard.tsx` (æ–°è¦ä½œæˆ)
- `frontend/src/pages/BuyerDetailPage.tsx` (æ›´æ–°)
- `frontend/src/pages/PropertyListingDetailPage.tsx` (æ›´æ–°)
- `.kiro/specs/buyer-detail-property-layout/requirements.md`
- `.kiro/specs/buyer-detail-property-layout/design.md`
- `.kiro/specs/buyer-detail-property-layout/tasks.md`
