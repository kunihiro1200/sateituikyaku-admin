<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ - ãƒ†ã‚¹ãƒˆ</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    
    .test-section {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #333;
      border-bottom: 3px solid #2196f3;
      padding-bottom: 10px;
    }
    
    h2 {
      color: #555;
      margin-top: 0;
    }
    
    .status {
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }
    
    .status.success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    .status.error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    .status.warning {
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }
    
    button {
      background-color: #2196f3;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
    }
    
    button:hover {
      background-color: #1976d2;
    }
    
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    
    .code-block {
      background-color: #f4f4f4;
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }
    
    .checklist {
      list-style: none;
      padding: 0;
    }
    
    .checklist li {
      padding: 8px;
      margin: 5px 0;
      background-color: #f8f9fa;
      border-left: 4px solid #2196f3;
    }
    
    .checklist li.checked {
      background-color: #d4edda;
      border-left-color: #28a745;
    }
    
    .checklist li.failed {
      background-color: #f8d7da;
      border-left-color: #dc3545;
    }
  </style>
</head>
<body>
  <h1>ğŸ” ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ - è¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
  
  <div class="test-section">
    <h2>ğŸ“‹ ç¾åœ¨ã®çŠ¶æ³</h2>
    <ul class="checklist" id="status-checklist">
      <li id="status-url">URLãƒã‚§ãƒƒã‚¯: ç¢ºèªä¸­...</li>
      <li id="status-component">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ãƒã‚§ãƒƒã‚¯: ç¢ºèªä¸­...</li>
      <li id="status-css">CSSãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒã‚§ãƒƒã‚¯: ç¢ºèªä¸­...</li>
      <li id="status-buttons">ãƒœã‚¿ãƒ³è¦ç´ ãƒã‚§ãƒƒã‚¯: ç¢ºèªä¸­...</li>
      <li id="status-styles">ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ãƒã‚§ãƒƒã‚¯: ç¢ºèªä¸­...</li>
    </ul>
  </div>
  
  <div class="test-section">
    <h2>ğŸ§ª è‡ªå‹•è¨ºæ–­</h2>
    <button onclick="runDiagnostics()">è¨ºæ–­ã‚’å®Ÿè¡Œ</button>
    <div id="diagnostic-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ”§ æ‰‹å‹•ãƒ†ã‚¹ãƒˆ</h2>
    <p>ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€å„æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
    <button onclick="testComponentExists()">1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ç¢ºèª</button>
    <button onclick="testButtonCount()">2. ãƒœã‚¿ãƒ³æ•°ç¢ºèª</button>
    <button onclick="testCSSLoaded()">3. CSSèª­ã¿è¾¼ã¿ç¢ºèª</button>
    <button onclick="testStylesApplied()">4. ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ç¢ºèª</button>
    <button onclick="testButtonClick()">5. ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å‹•ä½œç¢ºèª</button>
    <div id="manual-test-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ“ è¨ºæ–­çµæœã®è§£é‡ˆ</h2>
    <div id="interpretation"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ’¡ è§£æ±ºç­–</h2>
    <div id="solutions"></div>
  </div>

  <script>
    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•ãƒã‚§ãƒƒã‚¯
    window.addEventListener('load', () => {
      setTimeout(runInitialChecks, 1000);
    });
    
    function runInitialChecks() {
      // URLãƒã‚§ãƒƒã‚¯
      const currentUrl = window.location.href;
      const urlCheck = document.getElementById('status-url');
      if (currentUrl.includes('localhost:5174') || currentUrl.includes('localhost:5173')) {
        urlCheck.textContent = 'âœ… URLãƒã‚§ãƒƒã‚¯: æ­£ã—ã„ãƒãƒ¼ãƒˆç•ªå·ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã¾ã™';
        urlCheck.classList.add('checked');
      } else {
        urlCheck.textContent = 'âŒ URLãƒã‚§ãƒƒã‚¯: localhost:5174 ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„';
        urlCheck.classList.add('failed');
      }
      
      // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ãƒã‚§ãƒƒã‚¯
      const componentCheck = document.getElementById('status-component');
      const container = document.querySelector('.property-type-filter-buttons');
      if (container) {
        componentCheck.textContent = 'âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ãƒã‚§ãƒƒã‚¯: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ';
        componentCheck.classList.add('checked');
      } else {
        componentCheck.textContent = 'âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ãƒã‚§ãƒƒã‚¯: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
        componentCheck.classList.add('failed');
      }
      
      // ãƒœã‚¿ãƒ³è¦ç´ ãƒã‚§ãƒƒã‚¯
      const buttonsCheck = document.getElementById('status-buttons');
      const buttons = document.querySelectorAll('.filter-button');
      if (buttons.length === 4) {
        buttonsCheck.textContent = `âœ… ãƒœã‚¿ãƒ³è¦ç´ ãƒã‚§ãƒƒã‚¯: ${buttons.length}å€‹ã®ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`;
        buttonsCheck.classList.add('checked');
      } else if (buttons.length > 0) {
        buttonsCheck.textContent = `âš ï¸ ãƒœã‚¿ãƒ³è¦ç´ ãƒã‚§ãƒƒã‚¯: ${buttons.length}å€‹ã®ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼ˆæœŸå¾…å€¤: 4å€‹ï¼‰`;
        buttonsCheck.classList.add('failed');
      } else {
        buttonsCheck.textContent = 'âŒ ãƒœã‚¿ãƒ³è¦ç´ ãƒã‚§ãƒƒã‚¯: ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
        buttonsCheck.classList.add('failed');
      }
      
      // ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ãƒã‚§ãƒƒã‚¯
      const stylesCheck = document.getElementById('status-styles');
      if (container) {
        const styles = window.getComputedStyle(container);
        if (styles.display === 'flex') {
          stylesCheck.textContent = 'âœ… ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ãƒã‚§ãƒƒã‚¯: CSSãŒæ­£ã—ãé©ç”¨ã•ã‚Œã¦ã„ã¾ã™';
          stylesCheck.classList.add('checked');
        } else {
          stylesCheck.textContent = `âŒ ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ãƒã‚§ãƒƒã‚¯: display=${styles.display}ï¼ˆæœŸå¾…å€¤: flexï¼‰`;
          stylesCheck.classList.add('failed');
        }
      } else {
        stylesCheck.textContent = 'âŒ ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ãƒã‚§ãƒƒã‚¯: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­˜åœ¨ã—ãªã„ãŸã‚ç¢ºèªã§ãã¾ã›ã‚“';
        stylesCheck.classList.add('failed');
      }
    }
    
    function runDiagnostics() {
      const results = document.getElementById('diagnostic-results');
      results.innerHTML = '<p>è¨ºæ–­ã‚’å®Ÿè¡Œä¸­...</p>';
      
      const diagnostics = [];
      
      // 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å­˜åœ¨ç¢ºèª
      const container = document.querySelector('.property-type-filter-buttons');
      diagnostics.push({
        test: 'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å­˜åœ¨',
        passed: !!container,
        message: container ? 'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ' : 'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',
        details: container ? container.outerHTML.substring(0, 200) + '...' : 'N/A'
      });
      
      // 2. ãƒœã‚¿ãƒ³ã®æ•°
      const buttons = document.querySelectorAll('.filter-button');
      diagnostics.push({
        test: 'ãƒœã‚¿ãƒ³ã®æ•°',
        passed: buttons.length === 4,
        message: `${buttons.length}å€‹ã®ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼ˆæœŸå¾…å€¤: 4å€‹ï¼‰`,
        details: Array.from(buttons).map(b => b.textContent).join(', ')
      });
      
      // 3. CSSã®èª­ã¿è¾¼ã¿
      if (container) {
        const styles = window.getComputedStyle(container);
        diagnostics.push({
          test: 'CSSã®é©ç”¨',
          passed: styles.display === 'flex',
          message: `display: ${styles.display}ï¼ˆæœŸå¾…å€¤: flexï¼‰`,
          details: `gap: ${styles.gap}, margin-bottom: ${styles.marginBottom}`
        });
      }
      
      // 4. ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«
      if (buttons.length > 0) {
        const buttonStyles = window.getComputedStyle(buttons[0]);
        diagnostics.push({
          test: 'ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«',
          passed: buttonStyles.padding !== '0px',
          message: `padding: ${buttonStyles.padding}`,
          details: `border: ${buttonStyles.border}, background: ${buttonStyles.backgroundColor}`
        });
      }
      
      // çµæœã‚’è¡¨ç¤º
      let html = '<div style="margin-top: 20px;">';
      diagnostics.forEach(d => {
        const statusClass = d.passed ? 'success' : 'error';
        html += `
          <div class="status ${statusClass}">
            <strong>${d.passed ? 'âœ…' : 'âŒ'} ${d.test}</strong><br>
            ${d.message}<br>
            <small>${d.details}</small>
          </div>
        `;
      });
      html += '</div>';
      
      results.innerHTML = html;
      
      // è§£é‡ˆã¨è§£æ±ºç­–ã‚’è¡¨ç¤º
      showInterpretation(diagnostics);
      showSolutions(diagnostics);
    }
    
    function showInterpretation(diagnostics) {
      const interpretation = document.getElementById('interpretation');
      const allPassed = diagnostics.every(d => d.passed);
      
      if (allPassed) {
        interpretation.innerHTML = `
          <div class="status success">
            <strong>âœ… ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã«åˆæ ¼ã—ã¾ã—ãŸï¼</strong><br>
            ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚
          </div>
        `;
      } else {
        const failedTests = diagnostics.filter(d => !d.passed);
        interpretation.innerHTML = `
          <div class="status error">
            <strong>âŒ ${failedTests.length}å€‹ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¾ã—ãŸ</strong><br>
            ä»¥ä¸‹ã®å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸï¼š
            <ul>
              ${failedTests.map(t => `<li>${t.test}: ${t.message}</li>`).join('')}
            </ul>
          </div>
        `;
      }
    }
    
    function showSolutions(diagnostics) {
      const solutions = document.getElementById('solutions');
      const failedTests = diagnostics.filter(d => !d.passed);
      
      if (failedTests.length === 0) {
        solutions.innerHTML = '<p>å•é¡Œã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</p>';
        return;
      }
      
      let html = '<h3>æ¨å¥¨ã•ã‚Œã‚‹è§£æ±ºç­–ï¼š</h3>';
      
      failedTests.forEach(test => {
        if (test.test === 'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å­˜åœ¨') {
          html += `
            <div class="status warning">
              <strong>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</strong>
              <ol>
                <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼ˆCtrl+Shift+Rï¼‰</li>
                <li>æ­£ã—ã„URLï¼ˆhttp://localhost:5174/public/propertiesï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹</li>
                <li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®Consoleã‚¿ãƒ–ã§JavaScriptã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª</li>
              </ol>
            </div>
          `;
        }
        
        if (test.test === 'CSSã®é©ç”¨') {
          html += `
            <div class="status warning">
              <strong>CSSãŒæ­£ã—ãé©ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“</strong>
              <ol>
                <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢</li>
                <li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®Networkã‚¿ãƒ–ã§CSSãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã‚’ç¢ºèª</li>
                <li>ä»–ã®CSSã¨ã®ç«¶åˆãŒãªã„ã‹ç¢ºèª</li>
              </ol>
            </div>
          `;
        }
      });
      
      solutions.innerHTML = html;
    }
    
    // æ‰‹å‹•ãƒ†ã‚¹ãƒˆé–¢æ•°
    function testComponentExists() {
      const results = document.getElementById('manual-test-results');
      const container = document.querySelector('.property-type-filter-buttons');
      
      if (container) {
        results.innerHTML = `
          <div class="status success">
            âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ<br>
            <div class="code-block">${container.outerHTML.substring(0, 300)}...</div>
          </div>
        `;
      } else {
        results.innerHTML = `
          <div class="status error">
            âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“<br>
            ãƒšãƒ¼ã‚¸ä¸Šã« .property-type-filter-buttons ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚
          </div>
        `;
      }
    }
    
    function testButtonCount() {
      const results = document.getElementById('manual-test-results');
      const buttons = document.querySelectorAll('.filter-button');
      
      results.innerHTML = `
        <div class="status ${buttons.length === 4 ? 'success' : 'error'}">
          ${buttons.length === 4 ? 'âœ…' : 'âŒ'} ${buttons.length}å€‹ã®ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼ˆæœŸå¾…å€¤: 4å€‹ï¼‰<br>
          ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆ: ${Array.from(buttons).map(b => b.textContent).join(', ')}
        </div>
      `;
    }
    
    function testCSSLoaded() {
      const results = document.getElementById('manual-test-results');
      const stylesheets = Array.from(document.styleSheets);
      const cssFiles = stylesheets.map(s => s.href).filter(h => h);
      
      results.innerHTML = `
        <div class="status success">
          âœ… ${cssFiles.length}å€‹ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™<br>
          <div class="code-block">${cssFiles.join('<br>')}</div>
        </div>
      `;
    }
    
    function testStylesApplied() {
      const results = document.getElementById('manual-test-results');
      const container = document.querySelector('.property-type-filter-buttons');
      
      if (!container) {
        results.innerHTML = `
          <div class="status error">
            âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„ãŸã‚ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¢ºèªã§ãã¾ã›ã‚“
          </div>
        `;
        return;
      }
      
      const styles = window.getComputedStyle(container);
      const expectedStyles = {
        display: 'flex',
        flexWrap: 'wrap',
        gap: '12px',
        marginBottom: '24px'
      };
      
      let html = '<div class="status success"><strong>ã‚¹ã‚¿ã‚¤ãƒ«ç¢ºèªçµæœï¼š</strong><br><ul>';
      for (const [prop, expected] of Object.entries(expectedStyles)) {
        const actual = styles[prop];
        const match = actual.includes(expected) || expected.includes(actual);
        html += `<li>${match ? 'âœ…' : 'âŒ'} ${prop}: ${actual} ${!match ? `(æœŸå¾…å€¤: ${expected})` : ''}</li>`;
      }
      html += '</ul></div>';
      
      results.innerHTML = html;
    }
    
    function testButtonClick() {
      const results = document.getElementById('manual-test-results');
      const buttons = document.querySelectorAll('.filter-button');
      
      if (buttons.length === 0) {
        results.innerHTML = `
          <div class="status error">
            âŒ ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„ãŸã‚ã€ã‚¯ãƒªãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã›ã‚“
          </div>
        `;
        return;
      }
      
      results.innerHTML = `
        <div class="status warning">
          âš ï¸ æœ€åˆã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™...<br>
          ãƒœã‚¿ãƒ³ãŒé’è‰²ã«å¤‰ã‚ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚
        </div>
      `;
      
      setTimeout(() => {
        buttons[0].click();
        
        setTimeout(() => {
          const hasActiveClass = buttons[0].classList.contains('active');
          results.innerHTML = `
            <div class="status ${hasActiveClass ? 'success' : 'error'}">
              ${hasActiveClass ? 'âœ…' : 'âŒ'} ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯: ${hasActiveClass ? 'æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™' : 'å‹•ä½œã—ã¦ã„ã¾ã›ã‚“'}<br>
              activeã‚¯ãƒ©ã‚¹: ${hasActiveClass ? 'ã‚ã‚Š' : 'ãªã—'}
            </div>
          `;
        }, 500);
      }, 1000);
    }
  </script>
</body>
</html>
