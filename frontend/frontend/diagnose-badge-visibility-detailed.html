<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸è¡¨ç¤ºè¨ºæ–­ - è©³ç´°ç‰ˆ</title>
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .diagnostic-section {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .diagnostic-section h2 {
      margin-top: 0;
      color: #2563EB;
    }
    .code-block {
      background: #f9fafb;
      padding: 15px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 12px;
      overflow-x: auto;
      margin: 10px 0;
    }
    .result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
    }
    .result.success {
      background: #d1fae5;
      color: #065f46;
    }
    .result.error {
      background: #fee2e2;
      color: #991b1b;
    }
    .result.warning {
      background: #fef3c7;
      color: #92400e;
    }
    button {
      background: #2563EB;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
    }
    button:hover {
      background: #1d4ed8;
    }
  </style>
</head>
<body>
  <h1>ğŸ” ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸è¡¨ç¤ºè¨ºæ–­ - è©³ç´°ç‰ˆ</h1>
  
  <div class="diagnostic-section">
    <h2>ğŸ“‹ è¨ºæ–­æ‰‹é †</h2>
    <ol>
      <li>ç‰©ä»¶å…¬é–‹ãƒšãƒ¼ã‚¸ï¼ˆhttp://localhost:5173/public/propertiesï¼‰ã‚’é–‹ã</li>
      <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã‚’é–‹ã</li>
      <li>Consoleã‚¿ãƒ–ã‚’é–‹ã</li>
      <li>ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å®Ÿè¡Œ</li>
    </ol>
  </div>

  <div class="diagnostic-section">
    <h2>ğŸ”§ è¨ºæ–­ã‚³ãƒ¼ãƒ‰</h2>
    <p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š</p>
    
    <div class="code-block">
// ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸ã®è©³ç´°è¨ºæ–­
(function() {
  console.log('=== ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒãƒƒã‚¸è¨ºæ–­é–‹å§‹ ===\n');
  
  // 1. ãƒãƒƒã‚¸è¦ç´ ã®æ¤œç´¢
  const badges = document.querySelectorAll('.property-type-badge');
  console.log(`âœ“ è¦‹ã¤ã‹ã£ãŸãƒãƒƒã‚¸æ•°: ${badges.length}`);
  
  if (badges.length === 0) {
    console.error('âŒ ãƒãƒƒã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼');
    return;
  }
  
  // 2. å„ãƒãƒƒã‚¸ã®è©³ç´°æƒ…å ±ã‚’å–å¾—
  badges.forEach((badge, index) => {
    console.log(`\n--- ãƒãƒƒã‚¸ ${index + 1} ã®è©³ç´° ---`);
    
    // åŸºæœ¬æƒ…å ±
    console.log('ãƒ†ã‚­ã‚¹ãƒˆ:', badge.textContent);
    console.log('ã‚¯ãƒ©ã‚¹:', badge.className);
    
    // è¨ˆç®—ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«
    const computed = window.getComputedStyle(badge);
    console.log('\nğŸ“Š è¨ˆç®—ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«:');
    console.log('  position:', computed.position);
    console.log('  z-index:', computed.zIndex);
    console.log('  top:', computed.top);
    console.log('  left:', computed.left);
    console.log('  display:', computed.display);
    console.log('  visibility:', computed.visibility);
    console.log('  opacity:', computed.opacity);
    console.log('  background-color:', computed.backgroundColor);
    console.log('  color:', computed.color);
    console.log('  width:', computed.width);
    console.log('  height:', computed.height);
    console.log('  padding:', computed.padding);
    console.log('  font-size:', computed.fontSize);
    console.log('  font-weight:', computed.fontWeight);
    
    // ä½ç½®æƒ…å ±
    const rect = badge.getBoundingClientRect();
    console.log('\nğŸ“ ä½ç½®æƒ…å ±:');
    console.log('  top:', rect.top);
    console.log('  left:', rect.left);
    console.log('  width:', rect.width);
    console.log('  height:', rect.height);
    console.log('  ç”»é¢å†…ã«è¡¨ç¤º:', rect.top >= 0 && rect.left >= 0);
    
    // è¦ªè¦ç´ ã®æƒ…å ±
    const parent = badge.parentElement;
    if (parent) {
      const parentComputed = window.getComputedStyle(parent);
      console.log('\nğŸ‘¨â€ğŸ‘¦ è¦ªè¦ç´ ã®æƒ…å ±:');
      console.log('  ã‚¯ãƒ©ã‚¹:', parent.className);
      console.log('  position:', parentComputed.position);
      console.log('  z-index:', parentComputed.zIndex);
      console.log('  overflow:', parentComputed.overflow);
    }
    
    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã¨ã®é–¢ä¿‚
    const overlay = parent?.querySelector('.property-card-image-overlay');
    if (overlay) {
      const overlayComputed = window.getComputedStyle(overlay);
      console.log('\nğŸ­ ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®æƒ…å ±:');
      console.log('  z-index:', overlayComputed.zIndex);
      console.log('  position:', overlayComputed.position);
    }
    
    // å•é¡Œã®è¨ºæ–­
    console.log('\nğŸ” å•é¡Œè¨ºæ–­:');
    const issues = [];
    
    if (computed.display === 'none') {
      issues.push('âŒ display: none ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™');
    }
    if (computed.visibility === 'hidden') {
      issues.push('âŒ visibility: hidden ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™');
    }
    if (parseFloat(computed.opacity) === 0) {
      issues.push('âŒ opacity: 0 ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™');
    }
    if (computed.position !== 'absolute') {
      issues.push('âš ï¸ position ãŒ absolute ã§ã¯ã‚ã‚Šã¾ã›ã‚“');
    }
    if (parseInt(computed.zIndex) < 10) {
      issues.push('âš ï¸ z-index ãŒ 10 æœªæº€ã§ã™');
    }
    if (rect.width === 0 || rect.height === 0) {
      issues.push('âŒ å¹…ã¾ãŸã¯é«˜ã•ãŒ 0 ã§ã™');
    }
    if (computed.color === computed.backgroundColor) {
      issues.push('âš ï¸ æ–‡å­—è‰²ã¨èƒŒæ™¯è‰²ãŒåŒã˜ã§ã™');
    }
    
    if (issues.length === 0) {
      console.log('âœ… å•é¡Œã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ');
    } else {
      console.log('è¦‹ã¤ã‹ã£ãŸå•é¡Œ:');
      issues.forEach(issue => console.log('  ' + issue));
    }
  });
  
  console.log('\n=== è¨ºæ–­å®Œäº† ===');
})();
    </div>
    
    <button onclick="copyCode()">ğŸ“‹ ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
  </div>

  <div class="diagnostic-section">
    <h2>ğŸ¯ æœŸå¾…ã•ã‚Œã‚‹çµæœ</h2>
    <div class="result success">
      <strong>æ­£å¸¸ãªå ´åˆ:</strong>
      <ul>
        <li>position: absolute</li>
        <li>z-index: 10</li>
        <li>display: inline-flex ã¾ãŸã¯ flex</li>
        <li>visibility: visible</li>
        <li>opacity: 1</li>
        <li>width ã¨ height ãŒ 0 ã‚ˆã‚Šå¤§ãã„</li>
      </ul>
    </div>
    
    <div class="result error">
      <strong>å•é¡ŒãŒã‚ã‚‹å ´åˆ:</strong>
      <ul>
        <li>display: none</li>
        <li>visibility: hidden</li>
        <li>opacity: 0</li>
        <li>z-index ãŒä½ã„ï¼ˆ1ä»¥ä¸‹ï¼‰</li>
        <li>width ã¾ãŸã¯ height ãŒ 0</li>
      </ul>
    </div>
  </div>

  <div class="diagnostic-section">
    <h2>ğŸ› ï¸ ä¸€æ™‚çš„ãªä¿®æ­£ãƒ†ã‚¹ãƒˆ</h2>
    <p>å•é¡ŒãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ä¸€æ™‚çš„ã«ä¿®æ­£ã§ãã‚‹ã‹ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
    
    <div class="code-block">
// ãƒãƒƒã‚¸ã‚’å¼·åˆ¶çš„ã«è¡¨ç¤º
document.querySelectorAll('.property-type-badge').forEach(badge => {
  badge.style.display = 'inline-flex';
  badge.style.visibility = 'visible';
  badge.style.opacity = '1';
  badge.style.position = 'absolute';
  badge.style.zIndex = '10';
  badge.style.top = '16px';
  badge.style.left = '16px';
  console.log('âœ“ ãƒãƒƒã‚¸ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¼·åˆ¶é©ç”¨ã—ã¾ã—ãŸ');
});
    </div>
    
    <button onclick="copyFixCode()">ğŸ“‹ ä¿®æ­£ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
  </div>

  <script>
    function copyCode() {
      const code = document.querySelector('.code-block').textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('âœ… ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚');
      });
    }
    
    function copyFixCode() {
      const code = document.querySelectorAll('.code-block')[1].textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('âœ… ä¿®æ­£ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚');
      });
    }
  </script>
</body>
</html>
