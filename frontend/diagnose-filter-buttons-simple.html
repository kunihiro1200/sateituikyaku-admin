<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³è¨ºæ–­ - ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #1a73e8;
            margin-bottom: 10px;
        }
        h2 {
            color: #333;
            margin-top: 0;
            border-bottom: 2px solid #1a73e8;
            padding-bottom: 8px;
        }
        .btn {
            background: #1a73e8;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px 8px 8px 0;
            transition: background 0.2s;
        }
        .btn:hover {
            background: #1557b0;
        }
        .result {
            margin-top: 16px;
            padding: 16px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .step {
            background: #e8f4f8;
            padding: 12px;
            border-left: 4px solid #1a73e8;
            margin: 12px 0;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸ” ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³è¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
    
    <div class="card">
        <h2>ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—1: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ç¢ºèª</h2>
        <p>ã¾ãšã€<code>http://localhost:5173/public/properties</code> ã‚’é–‹ã„ã¦ãã ã•ã„ã€‚</p>
        <p>ã“ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸã¾ã¾ã€ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¨ºæ–­ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>
    </div>

    <div class="card">
        <h2>ğŸ” ã‚¹ãƒ†ãƒƒãƒ—2: DOMè¦ç´ ã®ç¢ºèª</h2>
        <button class="btn" onclick="checkDOMElements()">DOMè¦ç´ ã‚’ç¢ºèª</button>
        <div id="dom-result"></div>
    </div>

    <div class="card">
        <h2>ğŸ¨ ã‚¹ãƒ†ãƒƒãƒ—3: CSSè¡¨ç¤ºçŠ¶æ…‹ã®ç¢ºèª</h2>
        <button class="btn" onclick="checkCSSVisibility()">CSSè¡¨ç¤ºçŠ¶æ…‹ã‚’ç¢ºèª</button>
        <div id="css-result"></div>
    </div>

    <div class="card">
        <h2>âš›ï¸ ã‚¹ãƒ†ãƒƒãƒ—4: Reactè¦ç´ ã®ç¢ºèª</h2>
        <button class="btn" onclick="checkReactElements()">Reactè¦ç´ ã‚’ç¢ºèª</button>
        <div id="react-result"></div>
    </div>

    <div class="card">
        <h2>ğŸ“¦ ã‚¹ãƒ†ãƒƒãƒ—5: ç·åˆè¨ºæ–­</h2>
        <button class="btn" onclick="runFullDiagnostics()">ã™ã¹ã¦ã®è¨ºæ–­ã‚’å®Ÿè¡Œ</button>
        <div id="full-result"></div>
    </div>

    <script>
        function checkDOMElements() {
            const resultDiv = document.getElementById('dom-result');
            let html = '<div class="result info">';
            
            try {
                // ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã‚’æ¢ã™
                const buttons = document.querySelectorAll('button[aria-label*="çµã‚Šè¾¼ã‚€"]');
                html += `âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã®æ•°: ${buttons.length}å€‹\n\n`;
                
                if (buttons.length > 0) {
                    html += 'è¦‹ã¤ã‹ã£ãŸãƒœã‚¿ãƒ³:\n';
                    buttons.forEach((btn, index) => {
                        html += `  ${index + 1}. ${btn.getAttribute('aria-label')}\n`;
                        html += `     ãƒ†ã‚­ã‚¹ãƒˆ: ${btn.textContent}\n`;
                        html += `     è¡¨ç¤º: ${window.getComputedStyle(btn).display}\n`;
                        html += `     å¯è¦–æ€§: ${window.getComputedStyle(btn).visibility}\n\n`;
                    });
                    resultDiv.innerHTML = html.replace('info', 'success') + '</div>';
                } else {
                    // ã€Œç‰©ä»¶ã‚¿ã‚¤ãƒ—ã€ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¢ã™
                    const typeLabel = Array.from(document.querySelectorAll('div')).find(
                        div => div.textContent.trim() === 'ç‰©ä»¶ã‚¿ã‚¤ãƒ—'
                    );
                    
                    if (typeLabel) {
                        html += 'âš ï¸ ã€Œç‰©ä»¶ã‚¿ã‚¤ãƒ—ã€ãƒ©ãƒ™ãƒ«ã¯è¦‹ã¤ã‹ã‚Šã¾ã—ãŸãŒã€ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n';
                        html += `ãƒ©ãƒ™ãƒ«ã®è¦ªè¦ç´ : ${typeLabel.parentElement?.className}\n`;
                        resultDiv.innerHTML = html.replace('info', 'warning') + '</div>';
                    } else {
                        html += 'âŒ ã€Œç‰©ä»¶ã‚¿ã‚¤ãƒ—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³è‡ªä½“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n';
                        html += '\nè€ƒãˆã‚‰ã‚Œã‚‹åŸå› :\n';
                        html += '1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ãªã„\n';
                        html += '2. ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œ\n';
                        html += '3. JavaScriptã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹\n';
                        resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
                    }
                }
            } catch (error) {
                html += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
            }
        }

        function checkCSSVisibility() {
            const resultDiv = document.getElementById('css-result');
            let html = '<div class="result info">';
            
            try {
                // ã€Œç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¢ã™
                const filterSection = Array.from(document.querySelectorAll('div')).find(
                    div => div.textContent.includes('ç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€')
                );
                
                if (filterSection) {
                    const styles = window.getComputedStyle(filterSection);
                    html += 'âœ… ã€Œç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ\n\n';
                    html += 'CSSçŠ¶æ…‹:\n';
                    html += `  display: ${styles.display}\n`;
                    html += `  visibility: ${styles.visibility}\n`;
                    html += `  opacity: ${styles.opacity}\n`;
                    html += `  position: ${styles.position}\n`;
                    html += `  z-index: ${styles.zIndex}\n`;
                    html += `  width: ${styles.width}\n`;
                    html += `  height: ${styles.height}\n`;
                    
                    if (styles.display === 'none' || styles.visibility === 'hidden' || styles.opacity === '0') {
                        html += '\nâš ï¸ ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯éè¡¨ç¤ºã«ãªã£ã¦ã„ã¾ã™ï¼\n';
                        resultDiv.innerHTML = html.replace('info', 'warning') + '</div>';
                    } else {
                        resultDiv.innerHTML = html.replace('info', 'success') + '</div>';
                    }
                } else {
                    html += 'âŒ ã€Œç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n';
                    resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
                }
            } catch (error) {
                html += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
            }
        }

        function checkReactElements() {
            const resultDiv = document.getElementById('react-result');
            let html = '<div class="result info">';
            
            try {
                // React DevToolsãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
                if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
                    html += 'âœ… React DevToolsãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ\n\n';
                    html += 'Reactè¦ç´ ã®ç¢ºèª:\n';
                    
                    // Reactãƒ«ãƒ¼ãƒˆè¦ç´ ã‚’æ¢ã™
                    const rootElement = document.getElementById('root');
                    if (rootElement && rootElement._reactRootContainer) {
                        html += '  âœ… Reactãƒ«ãƒ¼ãƒˆè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ\n';
                    } else if (rootElement) {
                        html += '  âš ï¸ ãƒ«ãƒ¼ãƒˆè¦ç´ ã¯å­˜åœ¨ã—ã¾ã™ãŒã€ReactãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™\n';
                    }
                    
                    // PropertyTypeFilterButtonsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç—•è·¡ã‚’æ¢ã™
                    const allDivs = document.querySelectorAll('div');
                    let foundComponent = false;
                    allDivs.forEach(div => {
                        if (div.className && div.className.includes('space-y-3')) {
                            foundComponent = true;
                            html += '  âœ… PropertyTypeFilterButtonsã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚¯ãƒ©ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ\n';
                        }
                    });
                    
                    if (!foundComponent) {
                        html += '  âŒ PropertyTypeFilterButtonsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç—•è·¡ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n';
                    }
                    
                    resultDiv.innerHTML = html.replace('info', foundComponent ? 'success' : 'warning') + '</div>';
                } else {
                    html += 'âš ï¸ React DevToolsãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“\n\n';
                    html += 'ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•:\n';
                    html += 'Chrome: https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi\n';
                    html += 'Firefox: https://addons.mozilla.org/firefox/addon/react-devtools/\n';
                    resultDiv.innerHTML = html.replace('info', 'warning') + '</div>';
                }
            } catch (error) {
                html += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
            }
        }

        function runFullDiagnostics() {
            const resultDiv = document.getElementById('full-result');
            let html = '<div class="result info">';
            html += 'ğŸ” ç·åˆè¨ºæ–­ã‚’å®Ÿè¡Œä¸­...\n\n';
            
            try {
                // 1. ãƒšãƒ¼ã‚¸URLç¢ºèª
                html += '1ï¸âƒ£ ãƒšãƒ¼ã‚¸URL:\n';
                html += `   ${window.location.href}\n\n`;
                
                // 2. ãƒœã‚¿ãƒ³æ•°ç¢ºèª
                const buttons = document.querySelectorAll('button[aria-label*="çµã‚Šè¾¼ã‚€"]');
                html += `2ï¸âƒ£ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³æ•°: ${buttons.length}å€‹\n\n`;
                
                // 3. ã€Œç‰©ä»¶ã‚¿ã‚¤ãƒ—ã€ãƒ©ãƒ™ãƒ«ç¢ºèª
                const typeLabel = Array.from(document.querySelectorAll('div')).find(
                    div => div.textContent.trim() === 'ç‰©ä»¶ã‚¿ã‚¤ãƒ—'
                );
                html += `3ï¸âƒ£ ã€Œç‰©ä»¶ã‚¿ã‚¤ãƒ—ã€ãƒ©ãƒ™ãƒ«: ${typeLabel ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}\n\n`;
                
                // 4. ã€Œç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç¢ºèª
                const filterSection = Array.from(document.querySelectorAll('div')).find(
                    div => div.textContent.includes('ç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€')
                );
                html += `4ï¸âƒ£ ã€Œç‰©ä»¶ã‚’çµã‚Šè¾¼ã‚€ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³: ${filterSection ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}\n\n`;
                
                // 5. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ç¢ºèª
                html += '5ï¸âƒ£ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ç¢ºèª:\n';
                html += '   F12ã‚’æŠ¼ã—ã¦ã€ŒConsoleã€ã‚¿ãƒ–ã‚’ç¢ºèªã—ã¦ãã ã•ã„\n';
                html += '   èµ¤ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚‹å ´åˆã¯å ±å‘Šã—ã¦ãã ã•ã„\n\n';
                
                // 6. è¨ºæ–­çµæœ
                html += 'ğŸ“Š è¨ºæ–­çµæœ:\n';
                if (buttons.length === 4) {
                    html += '   âœ… ã™ã¹ã¦æ­£å¸¸ã§ã™ï¼ãƒœã‚¿ãƒ³ã¯æ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™\n';
                    resultDiv.innerHTML = html.replace('info', 'success') + '</div>';
                } else if (typeLabel && buttons.length === 0) {
                    html += '   âš ï¸ ãƒ©ãƒ™ãƒ«ã¯å­˜åœ¨ã—ã¾ã™ãŒã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“\n';
                    html += '   â†’ CSSã®å•é¡Œã¾ãŸã¯JavaScriptã‚¨ãƒ©ãƒ¼ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™\n';
                    resultDiv.innerHTML = html.replace('info', 'warning') + '</div>';
                } else if (!typeLabel && !filterSection) {
                    html += '   âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ä½“ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“\n';
                    html += '   â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„\n';
                    html += '   â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„\n';
                    resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
                } else {
                    html += '   âš ï¸ éƒ¨åˆ†çš„ãªå•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ\n';
                    html += '   â†’ è©³ç´°ã¯ä¸Šè¨˜ã®å€‹åˆ¥è¨ºæ–­ã‚’ç¢ºèªã—ã¦ãã ã•ã„\n';
                    resultDiv.innerHTML = html.replace('info', 'warning') + '</div>';
                }
            } catch (error) {
                html += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                resultDiv.innerHTML = html.replace('info', 'error') + '</div>';
            }
        }
    </script>
</body>
</html>
