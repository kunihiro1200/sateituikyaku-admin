# 完全カラム名マッピングリスト

## ⚠️ 重要：このファイルを必ず参照してください

スプレッドシート関連のコードを書く前に、**必ずこのファイルを確認**してください。
カラム名は変更されないため、ここに記録されたマッピングを使用してください。

---

## 📊 完全マッピング表

| # | スプレッドシートカラム名 | データベースカラム名 | フロントエンド表示名 | 型 | 備考 |
|---|----------------------|-------------------|------------------|-----|------|
| 1 | 売主番号 | seller_number | 売主番号 | string | 主キー（AA形式） |
| 2 | 名前(漢字のみ） | name | 氏名 | string | 暗号化 |
| 3 | 依頼者住所(物件所在と異なる場合） | address | 住所 | string | 暗号化 |
| 4 | 電話番号\nハイフン不要 | phone_number | 電話番号 | string | 暗号化 |
| 5 | メールアドレス | email | メールアドレス | string | 暗号化 |
| 6 | サイト | inquiry_site | サイト | string | H, L, ウ等 |
| 7 | 反響年 | inquiry_year | 反響年 | integer | 例: 2026 |
| 8 | **反響日付** | inquiry_date | 問い合わせ日 | date | ⚠️ 注意: 「反響日」ではない！ |
| 9 | 反響詳細日時 | inquiry_detailed_datetime | - | datetime | |
| 10 | 種別 | property_type | 物件種別 | string | 土地、戸建、マンション |
| 11 | 物件所在地 | property_address | 物件住所 | string | |
| 12 | 土（㎡） | land_area | 土地面積 | number | |
| 13 | 建（㎡） | building_area | 建物面積 | number | |
| 14 | 築年 | build_year | 築年 | number | |
| 15 | 構造 | structure | - | string | |
| 16 | 間取り | floor_plan | 間取り | string | |
| 17 | 状況（売主） | current_status | - | string | 居住中、空家等 |
| 18 | 状況（当社） | status | ステータス | string | 追客中、専任契約中等 |
| 19 | 確度 | confidence_level | 確度 | string | A, B, B', C, D, E |
| 20 | 次電日 | next_call_date | - | date | |
| 21 | コメント | comments | - | string | |
| 22 | 査定額1（自動計算）v | valuation_amount_1 | - | number | 万円単位 |
| 23 | 査定額2（自動計算）v | valuation_amount_2 | - | number | 万円単位 |
| 24 | 査定額3（自動計算）v | valuation_amount_3 | - | number | 万円単位 |
| 25 | 査定額1 | manual_valuation_amount_1 | - | number | 手入力（優先） |
| 26 | 査定額2 | manual_valuation_amount_2 | - | number | 手入力（優先） |
| 27 | 査定額3 | manual_valuation_amount_3 | - | number | 手入力（優先） |
| 28 | 訪問取得日\n年/月/日 | visit_acquisition_date | 訪問取得日 | date | ⚠️ 改行文字（\n）を含む |
| 29 | 訪問日 \nY/M/D | visit_date | 訪問日 | date | ⚠️ 改行文字（\n）を含む |
| 30 | 訪問時間 | visit_time | - | string | |
| 31 | 営担 | visit_assignee | 営担 | string | イニシャル→氏名に変換 |
| 32 | 訪問査定取得者 | visit_valuation_acquirer | 訪問査定取得者 | string | イニシャル→氏名に変換 |
| 33 | 査定担当 | valuation_assignee | - | string | |
| 34 | 電話担当（任意） | phone_assignee | - | string | |
| 35 | 訪問メモ | visit_notes | - | string | |
| 36 | 契約年月 他決は分かった時点 | contract_year_month | - | date | |
| 37 | 競合名 | competitor_name | - | string | |
| 38 | 競合名、理由\n（他決、専任） | competitor_name_and_reason | - | string | |
| 39 | 専任・他決要因 | exclusive_other_decision_factor | 専任・他決要因 | string | |
| 40 | 作成日時 | created_at | 登録日 | datetime | |
| 41 | 更新日時 | updated_at | - | datetime | |

---

## 🚨 よくある間違い

### ❌ 間違い1: 「反響日」を使用

```typescript
// ❌ 間違い: このカラムは存在しない
const inquiryDate = row['反響日'];
```

### ✅ 正解: 「反響日付」を使用

```typescript
// ✅ 正しい: スプレッドシートのカラム名は「反響日付」
const inquiryDate = row['反響日付'];
```

### ❌ 間違い2: 「電話番号」を使用

```typescript
// ❌ 間違い: 改行コードが含まれている
const phoneNumber = row['電話番号'];
```

### ✅ 正解: 「電話番号\nハイフン不要」を使用

```typescript
// ✅ 正しい: 改行コード（\n）を含む
const phoneNumber = row['電話番号\nハイフン不要'];
```

---

## 📝 スプレッドシートの全カラム名（提供された順序）

以下は、ユーザーから提供されたスプレッドシートの全カラム名です：

1. 重複
2. 売主リスト
3. 売主番号
4. 電/日付
5. IDE/日付
6. 郵/日付
7. 次電日
8. 確度
9. 査定額
10. 不通
11. サイト
12. 反響年
13. **反響日付** ⚠️
14. 種別
15. 土（㎡）
16. 建（㎡）
17. 間取り
18. 物件所在地
19. 依頼者住所(物件所在と異なる場合）
20. 築年
21. 状況（売主）
22. 名前(漢字のみ）
23. 電話番号\nハイフン不要
24. メールアドレス
25. 一番TEL
26. 訪問取得日\n年/月/日
27. 訪問日 Y/M/D
28. 営担
29. 状況（当社）
30. コメント
31. 訪問後_査定額1
32. キャンセル
33. 案内担当
34. 送信社数
35. Pinrich
36. 競合名、理由\n（他決、専任）
37. 物件所在地（ウのマンションとは別明記分）
38. 訪問査定取得者
39. 反響詳細日時
40. 契約年月 他決は分かった時点
41. 競合名
42. 査定理由（査定サイトから転記）
43. サイトURL
44. 専任・他決要因
45. 他決対策
46. 訪問時間
47. 曜日
48. 譲渡所得税の説明
49. およそ何年先に売りたいかヒアリング
50. 不明点の確認
51. athome
52. 当社のみ掲載
53. 山本さん承諾
54. 知合がいること確認済み
55. 知合がいる事に関して
56. 査定書URL
57. 査定額1（自動計算）v
58. 査定額2（自動計算）v
59. 査定額3（自動計算）v
60. データ更新
61. 面積の確認
62. 構造
63. 販売計画
64. キャンセル
65. 案内
66. 当社の紹介
67. 一般媒介のチャット送信
68. 専任とれた文言
69. 価格負け
70. リストに入力済み
71. 上記以外の郵送先住所
72. いつまでに売りたいか？
73. 希望の価格はあるか？
74. 連絡取りやすい日、時間帯
75. 査定価格の感想
76. 土地（当社調べ）
77. 建物（当社調べ）
78. 査定方法
79. 連絡方法
80. 通知送信者
81. 郵送
82. 査定担当
83. 電話担当（任意）
84. 査定額1
85. 査定額2
86. 査定額3
87. メール種別
88. 訪問時注意点
89. 過去所有者情報
90. 過去物件情報
91. 除外サイト
92. 除外基準
93. 訪問後次電日設定
94. 査定メール
95. 不通で除外申請前メール
96. 不通時Sメール
97. 当社が電話したというリマインドメール
98. 訪問後御礼メール
99. 長期客Sメール
100. 当社が電話したというリマインドメール担当
101. 不通時Sメール担当
102. 査定Sメール担当
103. 不通で除外申請前メール担当
104. 訪問事前通知メール担当
105. 訪問後御礼メール担当
106. 除外前、長期客メール担当
107. 除外前メール
108. 専任他決打合せ
109. メアドで重複確認
110. 過去所有者情報（メアド）
111. 過去物件情報（メアド）
112. 固定資産税路線価
113. 掛率
114. 土地坪単価（修正）
115. 1番電話
116. 物件紹介
117. 物件紹介チャットメッセージ
118. 要ダブり確認
119. 査定理由別３後Eメ担
120. 調整、相談済み
121. 訪問査定割合
122. 1番電話不通時2度目電話
123. 専任取得通知チャット
124. 他決共有チャット（営業のみ）
125. 未訪問他決共有
126. お客様紹介確認
127. お客様紹介確認の返答
128. お客様紹介者
129. 売主コピー
130. 買主コピー
131. 購入情報
132. 除外日
133. 除外日にすること
134. 他に査定の相談している人
135. 対応不明
136. ヒアリング不要

---

## 🔍 現在マッピングされているカラム（column-mapping.json）

以下のカラムは`backend/src/config/column-mapping.json`でマッピングされています：

### スプレッドシート → データベース

1. 売主番号 → seller_number
2. 名前(漢字のみ） → name
3. 依頼者住所(物件所在と異なる場合） → address
4. 電話番号\nハイフン不要 → phone_number
5. メールアドレス → email
6. サイト → inquiry_site
7. 種別 → property_type
8. 物件所在地 → property_address
9. 土（㎡） → land_area
10. 建（㎡） → building_area
11. 築年 → build_year
12. 構造 → structure
13. 間取り → floor_plan
14. 状況（売主） → current_status
15. 反響年 → inquiry_year
16. **反響日付** → inquiry_date ⚠️
17. 反響詳細日時 → inquiry_detailed_datetime
18. 査定額1（自動計算）v → valuation_amount_1
19. 査定額2（自動計算）v → valuation_amount_2
20. 査定額3（自動計算）v → valuation_amount_3
21. 査定額1 → manual_valuation_amount_1
22. 査定額2 → manual_valuation_amount_2
23. 査定額3 → manual_valuation_amount_3
24. 訪問取得日\n年/月/日 → visit_acquisition_date
25. 訪問日 \nY/M/D → visit_date
26. 訪問時間 → visit_time
27. 営担 → visit_assignee
28. 訪問査定取得者 → visit_valuation_acquirer
29. 査定担当 → valuation_assignee
30. 電話担当（任意） → phone_assignee
31. 状況（当社） → status
32. コメント → comments
33. 確度 → confidence_level
34. 次電日 → next_call_date
35. 契約年月 他決は分かった時点 → contract_year_month
36. 競合名 → competitor_name
37. 競合名、理由\n（他決、専任） → competitor_name_and_reason
38. 専任・他決要因 → exclusive_other_decision_factor
39. 作成日時 → created_at
40. 更新日時 → updated_at
41. 訪問メモ → visit_notes

---

## 🚨 未マッピングのカラム（今後追加が必要な可能性）

以下のカラムは現在マッピングされていません：

- 重複
- 電/日付
- IDE/日付
- 郵/日付
- 不通
- 一番TEL
- 訪問後_査定額1
- キャンセル
- 案内担当
- 送信社数
- Pinrich
- 物件所在地（ウのマンションとは別明記分）
- 査定理由（査定サイトから転記）
- サイトURL
- 他決対策
- 曜日
- 譲渡所得税の説明
- およそ何年先に売りたいかヒアリング
- 不明点の確認
- athome
- 当社のみ掲載
- 山本さん承諾
- 知合がいること確認済み
- 知合がいる事に関して
- 査定書URL
- データ更新
- 面積の確認
- 販売計画
- 当社の紹介
- 一般媒介のチャット送信
- 専任とれた文言
- 価格負け
- リストに入力済み
- 上記以外の郵送先住所
- いつまでに売りたいか？
- 希望の価格はあるか？
- 連絡取りやすい日、時間帯
- 査定価格の感想
- 土地（当社調べ）
- 建物（当社調べ）
- 査定方法
- 連絡方法
- 通知送信者
- 郵送
- メール種別
- 訪問時注意点
- 過去所有者情報
- 過去物件情報
- 除外サイト
- 除外基準
- 訪問後次電日設定
- 査定メール
- 不通で除外申請前メール
- 不通時Sメール
- 当社が電話したというリマインドメール
- 訪問後御礼メール
- 長期客Sメール
- （その他多数のメール関連カラム）
- 固定資産税路線価
- 掛率
- 土地坪単価（修正）
- 1番電話
- 物件紹介
- 物件紹介チャットメッセージ
- 要ダブり確認
- 査定理由別３後Eメ担
- 調整、相談済み
- 訪問査定割合
- 1番電話不通時2度目電話
- 専任取得通知チャット
- 他決共有チャット（営業のみ）
- 未訪問他決共有
- お客様紹介確認
- お客様紹介確認の返答
- お客様紹介者
- 売主コピー
- 買主コピー
- 購入情報
- 除外日
- 除外日にすること
- 他に査定の相談している人
- 対応不明
- ヒアリング不要

---

## 📋 コード作成時のチェックリスト

新しいコードを書く前に、以下を確認してください：

1. **スプレッドシートのカラム名を確認**
   - このファイルの「スプレッドシートの全カラム名」セクションを参照
   - 正確なカラム名（改行コード含む）を使用

2. **データベースカラム名を確認**
   - このファイルの「完全マッピング表」を参照
   - `column-mapping.json`と一致していることを確認

3. **フロントエンド表示名を確認**
   - このファイルの「完全マッピング表」を参照
   - ユーザーに表示される名前を確認

4. **型を確認**
   - 数値、日付、文字列などの型を確認
   - 必要に応じて変換処理を追加

---

## 🎯 まとめ

- **カラム名は変更されない** → このファイルを信頼して使用
- **毎回確認する** → コードを書く前に必ずこのファイルを参照
- **正確なカラム名を使用** → 改行コード（\n）や特殊文字を含む場合がある
- **マッピングを更新** → 新しいカラムを追加する場合は、このファイルと`column-mapping.json`を更新

**スプレッドシート関連のコードを書く前に、必ずこのファイルを確認してください。**
